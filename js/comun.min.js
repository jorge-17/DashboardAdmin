const rootURL="http://localhost:26010/Dashboard.svc/";const TramitesDia="ConsultarTramitesDia";const TramitesDiaUpdate="ConsultarTramitesDiaUpdate";const TramitesHorario="ConsultarTramitesHorario";const TramitesDiaLast30="ConsultarTramitesLast30";const CerrarSesion="CerrarSesion";const TramitesHorarioxDia="ConsultarTramitesHorarioxDia";const mapRutas="ConsultarRutas";const ciudadesRutas="ConsultarCiudades";const guardarRutas="GuardarRuta";const actualizarRutas="ActualizarRuta";const consultarRutasId="ConsultarRutaId";const consultarTrazo="ConsultarTrazo";const consultarRutasUpdate="ConsultarRutasUpdate";const consultarModalidades="ConsultarModalidades";const consultarLineas="ConsultarLineas";const consultarReporte1="ObtenerReporte1";const consultarReporte2="ObtenerReporte2";const consultarRoles="ObtenerRoles";const tokenSession=sessionStorage.getItem('token');const NombreUsuario=sessionStorage.getItem('NombreU');const fechaNow=new Date();const yearN=fechaNow.getFullYear();const monthN=fechaNow.getMonth();const dayN=fechaNow.getDate();var resultado;const arrayR=[];$(window).on('load',async function(){try{var result=await $.ajax({type:"POST",url:rootURL+consultarRoles,data:JSON.stringify({token:tokenSession}),contentType:"application/json;charset=utf-8",dataType:"json"})}catch(error){console.log(error)}
    $.when(result).then(function(data){var datos=JSON.parse(data.d);var itemData=datos.aoData;itemData.forEach(element=>{arrayR.push(element.rol)})})});$.permit({permits:['Admin','ARutas','A'+'Reportes','STramites']});$("#userName").append(NombreUsuario+'  <span class=" fa fa-angle-down"></span>');if(!sessionStorage.getItem('token')){window.location.replace("http://localhost/dashboard/views/")}
$("#btnLogOut").on('click',async function(){try{resultado=await $.ajax({type:"POST",url:rootURL+CerrarSesion,data:JSON.stringify({token:tokenSession}),contentType:"application/json;charset=utf-8",dataType:"json"})}catch(error){console.log(error)}
    $.when(resultado).then(function(){const cPrefix='permit_';sessionStorage.removeItem('token');sessionStorage.removeItem('permisos');sessionStorage.removeItem('NombreU');const arrRol=sessionStorage.getItem('roles');const arrayRol=arrRol.split(",");arrayRol.forEach(element=>{if(element==="7"){$.removeCookie(cPrefix+'Admin')}
        if(element==="8"){$.removeCookie(cPrefix+'ARutas')}
        if(element==="9"){$.removeCookie(cPrefix+'AReportes')}
        if(element==="10"){$.removeCookie(cPrefix+'STramites')}});sessionStorage.removeItem('roles');window.location.replace("http://localhost/dashboard/views/")})});Highcharts.setOptions({lang:{months:['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'],weekdays:['Domingo','Lunes','Martes','Miercoles','Jueves','Viernes','Sabado'],shortMonths:['En.','Febr.','Mzo.','Abr.','My.','Jun.','Jul.','Agto.','Sept.','Oct.','Nov.','Dic.']},colors:['#00C853'],legend:!1,credits:{enabled:!1}})